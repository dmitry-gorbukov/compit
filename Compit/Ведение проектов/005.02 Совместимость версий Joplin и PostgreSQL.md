
https://share.google/aimode/UlYimdG2WwPvYzx9v

https://habr.com/ru/articles/508636/


Joplin и postgresql. Совместимость версий. Какие наиболее новые версии программного обеспечения в docker контейнерах совместимы? Приведи примеры версий docker контейнеров это программного обеспечения с docker hub.

Joplin Server

(серверная часть приложения, которая используется для синхронизации и требует базы данных)  совместим с **PostgreSQL 16.8+**  (рекомендуется для production-среды). Также на форумах упоминается совместимость с предыдущими версиями, например,  PostgreSQL 15 и  14.

На данный момент наиболее новые версии, которые гарантированно совместимы и рекомендуются к использованию:

-   **Joplin Server**: актуальная стабильная версия (на момент последних данных с Docker Hub) или последняя бета-версия.
-   **PostgreSQL**: версия 16 и выше.

Примеры Docker-образов с Docker Hub

Вы можете использовать следующие теги для ваших  `docker-compose`  файлов, чтобы обеспечить совместимость:

Joplin Server

Официальный образ:  `joplin/server`

-   `joplin/server:latest`  (всегда содержит самую последнюю стабильную версию)
-   `joplin/server:2`  (последняя версия в рамках второй мажорной версии)
-   `joplin/server:2.14.20`  (пример конкретной минорной/патч-версии)

PostgreSQL

Официальный образ:  `postgres`  или  `library/postgres`

-   `postgres:16`  (рекомендуемая на данный момент версия)
-   `postgres:16.3`  (пример конкретной патч-версии)
-   `postgres:15`  (совместимая предыдущая версия)
-   `postgres:latest` (всегда последняя мажорная версия, на данный момент 18.x, что может потребовать обновления конфигурации пути к данным и еще не быть полностью протестированным с  Joplin Server)

Рекомендации по совместимости в Docker

Для надежной работы рекомендуется использовать конкретные мажорные или минорные версии образов, чтобы избежать автоматических обновлений, которые могут нарушить совместимость (особенно при обновлении мажорных версий  PostgreSQL, что требует переноса данных, а не простого обновления образа).

Пример части файла  `docker-compose.yml`  с использованием совместимых версий:

```yaml
version: '3.5'

services:
  db:
    # Рекомендуемая и проверенная версия PostgreSQL
    image: postgres:16
    volumes:
      - ./postgres-data:/var/lib/postgresql/data
    environment:
      POSTGRES_PASSWORD: your_strong_password
      POSTGRES_USER: joplin
      POSTGRES_DB: joplin
    restart: unless-stopped

  app:
    # Последняя стабильная версия Joplin Server
    image: joplin/server:latest
    ports:
      - "22300:22300"
    environment:
      # ... другие переменные окружения Joplin Server ...
      DB_CLIENT: pg
      POSTGRES_PASSWORD: your_strong_password
      POSTGRES_DATABASE: joplin
      POSTGRES_USER: joplin
      POSTGRES_PORT: 5432
      POSTGRES_HOST: db
    depends_on:
      - db
    restart: unless-stopped
```

<!--stackedit_data:
eyJoaXN0b3J5IjpbMTAyMTU0ODczNV19
-->